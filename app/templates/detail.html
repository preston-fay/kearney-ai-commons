<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ prompt.Title }} | Kearney AI Skills Library</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <header class="site-header">
        <div class="header-container">
            <div class="header-left">
                <a href="{{ url_for('index') }}" class="logo-link">
                    <img src="{{ url_for('static', filename='kearney-logo.svg') }}" alt="Kearney" class="logo">
                </a>
                <div class="header-divider"></div>
                <span class="site-title">AI Skills Library</span>
            </div>
            <nav class="header-nav">
                <a href="{{ url_for('index') }}" class="nav-btn">Library</a>
                <a href="{{ url_for('guide') }}" class="nav-btn">How to Use</a>
            </nav>
        </div>
    </header>

    <main class="main-content detail-page">
        <!-- Back Button -->
        <a href="{{ url_for('index') }}" class="btn-ghost back-link">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            Back to Library
        </a>

        <!-- Header Section -->
        <div class="detail-header">
            <span class="type-badge {% if prompt.Type == 'skill' %}badge-skill{% else %}badge-prompt{% endif %}">
                {% if prompt.Type == 'skill' %}
                <svg class="badge-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="16 18 22 12 16 6"/>
                    <polyline points="8 6 2 12 8 18"/>
                </svg>
                Interactive Skill
                {% else %}
                <svg class="badge-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 3l1.912 5.813h6.088l-4.912 3.587 1.824 5.6-4.912-3.587-4.912 3.587 1.824-5.6-4.912-3.587h6.088z"/>
                </svg>
                Prompt
                {% endif %}
            </span>
            <h1 class="detail-title">{{ prompt.Title }}</h1>
            {% if prompt.Description %}
            <p class="detail-description">{{ prompt.Description }}</p>
            {% endif %}
        </div>

        <!-- Metadata Cards -->
        <div class="metadata-grid">
            <div class="metadata-card">
                <h4>Category</h4>
                <p>{{ prompt.Category }}</p>
            </div>
            <div class="metadata-card">
                <h4>Use Case</h4>
                <p>{{ prompt.UseCase }}</p>
            </div>
            <div class="metadata-card">
                <h4>Audience</h4>
                <p>{{ prompt.TargetAudience }}</p>
            </div>
        </div>

        <!-- Content Card -->
        <div class="content-card">
            {% if prompt.Type == 'skill' and prompt.SkillVersions %}
            <!-- Skills have tabs for different platforms -->
            <div class="tabs-container">
                <div class="content-header">
                    <div class="tab-list">
                        {% for platform, content in prompt.SkillVersions.items() %}
                        <button class="tab-btn {% if loop.first %}active{% endif %}"
                                onclick="switchTab('{{ platform }}', this)"
                                data-platform="{{ platform }}">
                            {% if platform == 'claude-code' %}
                            Claude Code
                            {% elif platform == 'generic' %}
                            Any LLM
                            {% else %}
                            {{ platform|title }}
                            {% endif %}
                        </button>
                        {% endfor %}
                    </div>
                    <button class="btn-primary copy-btn" onclick="copyActiveTab(this)">
                        <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                            <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                        </svg>
                        Copy All
                    </button>
                </div>
            </div>

            {% for platform, content in prompt.SkillVersions.items() %}
            <div class="tab-content {% if loop.first %}active{% endif %}" id="tab-{{ platform }}">
                <div class="tab-header" style="margin-bottom: 1rem;">
                    <h3>
                        {% if platform == 'claude-code' %}
                        Claude Code Implementation
                        {% elif platform == 'generic' %}
                        Universal LLM Template
                        {% else %}
                        {{ platform|title }} Version
                        {% endif %}
                    </h3>
                    <p class="tab-description" style="font-size: 0.875rem; color: var(--muted-foreground); margin-top: 0.25rem;">
                        {% if platform == 'claude-code' %}
                        Use this code with Claude's API for automated analysis and processing.
                        {% elif platform == 'generic' %}
                        Use this template with ChatGPT, Claude, Gemini, or any other LLM.
                        {% endif %}
                    </p>
                </div>
                <div class="code-block">
                    <pre><code id="skill-content-{{ platform }}">{{ content }}</code></pre>
                </div>
            </div>
            {% endfor %}

            {% else %}
            <!-- Prompts just show the content directly -->
            <div class="content-header">
                <div>
                    <h3>Prompt Template</h3>
                    <p style="font-size: 0.875rem; color: var(--muted-foreground); margin-top: 0.25rem;">
                        Copy this prompt and paste it into your preferred LLM.
                    </p>
                </div>
                <button class="btn-primary copy-btn" onclick="copyToClipboard('prompt-content-{{ prompt.id }}', this)">
                    <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                        <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                    </svg>
                    Copy Prompt
                </button>
            </div>
            <div class="code-block">
                <pre><code id="prompt-content-{{ prompt.id }}">{{ prompt.PromptContent }}</code></pre>
            </div>
            {% endif %}
        </div>

        <!-- Tips Card -->
        <div class="tips-card">
            <h3>Tips for Best Results</h3>
            <ul class="tips-list">
                <li>
                    <span>•</span>
                    <span>Customize the template with your specific context and requirements</span>
                </li>
                <li>
                    <span>•</span>
                    <span>Include relevant data points and metrics for more accurate analysis</span>
                </li>
                <li>
                    <span>•</span>
                    <span>Iterate on the results - refine your inputs based on initial outputs</span>
                </li>
                <li>
                    <span>•</span>
                    <span>Test with different LLMs to compare results and find the best fit</span>
                </li>
            </ul>
        </div>
    </main>

    <footer class="site-footer">
        <div class="footer-container">
            <div class="footer-copyright">
                © {{ now.year if now else '2025' }} Kearney. All rights reserved.
            </div>
            <div class="footer-links">
                <a href="#">Support</a>
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Use</a>
            </div>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
